{% extends "base.jinja" %}
{% from "common.jinja" import list_page, paginator %}

{% macro search_component() %}
    <form class="form-group row" action="{{ url('home:job-list') }}" method="get" enctype="application/x-www-form-urlencoded">
        <div class="col-xs-12 col-sm-9">
            <input type="text" class="form-control" name="query" placeholder="Search" value="{{ query or '' }}">
        </div>
        <div class="col-sm-3">
            <button class="btn btn-primary">Search</button>
            <a href="{{ url('home:event-create') }}"
                         class="btn btn-primary btn float-md-right mt-xs-1">
                <span class="fa fa-plus"></span>
            </a>
        </div>
    </form>
{% endmacro %}

{% macro item_component(item) %}
    <div class="list-group-item list-group-item-action">
        <div class="col-xs-12 col-sm-6 col-md-2">
            <a href="{{ url('home:event-detail', pk=item.id) }}" class="p-2 fa fa-edit">
            </a>
            <a href="{{ url('home:event-update', pk=item.id) }}" class="p-2 fa fa-eye">
            </a>
        </div>
        <div class="col-xs-12 col-md-8 flex-sm-last flex-md-unordered">
            <span>{{ item.title }}</span>
        </div>
        <small class="col-xs-12 col-sm-6 col-md-2 text-right">{{ item.date_created }}</small>
    </div>
{% endmacro %}

{% block title %}Job Search{% endblock %}

{% block introduction %}<h1 id="query">Event Search</h1>{% endblock %}

{% block subheader %}<h1>Events</h1>{% endblock %}

{% block content %}
    {{ list_page(__all__, search_component, item_component) }}
    <br>
    {{ paginator('home:event-list', __all__) }}
{% endblock %}
